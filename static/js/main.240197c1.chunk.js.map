{"version":3,"sources":["assets/album.png","assets/track.png","assets/loading.gif","components/UserContext.js","components/Nav.js","schema.js","api_url.js","components/AuthBox.js","components/ReviewForm.js","components/SearchResults.js","components/SearchBox.js","components/Feed.js","App.js","index.js"],"names":["module","exports","UserContext","React","createContext","Nav","useContext","user","setUser","className","style","fontFamily","username","token","type","onClick","localStorage","removeItem","Joi","require","querySchema","string","trim","min","max","required","contentSchema","userSchema","object","alphanum","password","pattern","API_URL","window","location","hostname","AuthBox","useState","displaySignUp","setDisplaySignUp","displayLogIn","setDisplayLogIn","validatedUserInput","setValidatedUserInput","errorMessage","setErrorMessage","successMessage","setSuccessMessage","handleFormSubmit","e","a","preventDefault","target","form","value","validate","undefined","error","item","message","includes","useEffect","fetch","method","body","JSON","stringify","headers","then","response","ok","json","Error","catch","responseJson","setItem","role","id","htmlFor","aria-describedby","placeholder","ReviewForm","mediaName","mediaCreator","mediaType","content","setContent","display","reviewHeader","handleButtonClick","useCallback","input","reviewtext","href","rows","reload","SearchResults","searchResults","SearchBox","query","setQuery","setSearchResults","setMediaType","setMediaName","setMediaCreator","displaySearchForm","setDisplaySearchForm","displayResults","setDisplayResults","displayReviewForm","setDisplayReviewForm","handleSearchSubmit","dataset","medianame","mediacreator","createSearchResultsDisplay","jsonFromApi","data","length","map","data-medianame","title","data-mediacreator","artist","name","jsonFromMusicApi","onSubmit","onChange","defaultValue","Feed","feed","setFeed","reviews","reverse","created","_id","imgSrc","track","album","key","src","width","height","alt","Date","toLocaleString","createFeed","loading","App","getItem","userValue","useMemo","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.240197c1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/album.27544c82.png\";","module.exports = __webpack_public_path__ + \"static/media/track.91c3ee31.png\";","module.exports = \"data:image/gif;base64,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\"","import React from 'react';\n\nconst UserContext = React.createContext(null);\n\nexport default UserContext;\n","import React, { useContext } from 'react';\nimport UserContext from './UserContext';\n\nfunction Nav() {\n  const { user, setUser } = useContext(UserContext);\n\n  // display a sign out button if a user is signed in\n  return (\n    <nav className=\"navbar navbar-dark bg-dark navbar-expand px-3 justify-content-between\">\n      <h1 className=\"navbar-brand m-0\" style={{ fontFamily: 'Montserrat, sans-serif' }}>acchord</h1>\n      { user.username && user.token\n        && (\n        <button\n          type=\"button\"\n          className=\"btn btn-dark\"\n          onClick={() => {\n            setUser({ username: null, token: null });\n            localStorage.removeItem('acchordUsername');\n            localStorage.removeItem('token');\n          }}\n        >\n          Sign Out\n        </button>\n        )}\n    </nav>\n  );\n}\n\nexport default Nav;\n","const Joi = require('@hapi/joi');\n\nexport const querySchema = Joi.string()\n  .trim()\n  .min(1)\n  .max(50)\n  .required();\n\nexport const contentSchema = Joi.string()\n  .trim()\n  .min(1)\n  .max(1000)\n  .required();\n\nexport const userSchema = Joi.object({\n  username: Joi.string()\n    .alphanum()\n    .min(3)\n    .max(30)\n    .required(),\n\n  password: Joi.string()\n    .trim()\n    .min(8)\n    .max(20)\n    .pattern(/^[\\S]*$/)\n    .required(),\n});\n","const API_URL = window.location.hostname === 'localhost'\n  ? 'http://localhost:3001'\n  : 'https://acchord.herokuapp.com';\n\nexport default API_URL;\n","import React, { useState, useContext, useEffect } from 'react';\nimport UserContext from './UserContext';\nimport { userSchema } from '../schema';\nimport API_URL from '../api_url';\n\nfunction AuthBox() {\n  const { setUser } = useContext(UserContext);\n  const [displaySignUp, setDisplaySignUp] = useState(false);\n  const [displayLogIn, setDisplayLogIn] = useState(true);\n  const [validatedUserInput, setValidatedUserInput] = useState(null);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n\n  // store username and password if they are valid according to the schema,\n  // this will trigger useEffect()\n  const handleFormSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const username = e.target.form.username.value;\n      const password = e.target.form.password.value;\n      const { error } = await userSchema.validate({ username, password });\n\n      if (error === undefined) {\n        setValidatedUserInput({ username, password });\n        setErrorMessage('');\n      } else {\n        throw error;\n      }\n    } catch (error) {\n      const item = error.message.includes('username') ? 'username' : 'password';\n      const message = displaySignUp\n        ? `Please make sure your ${item} meets the requirements.`\n        : 'Error with username or password.';\n      setErrorMessage(message);\n    }\n  };\n\n  // POST user creds to appropriate path based on which form is displayed\n  useEffect(() => {\n    if (validatedUserInput && displaySignUp) {\n      fetch(`${API_URL}/auth/signup`, {\n        method: 'POST',\n        body: JSON.stringify(validatedUserInput),\n        headers: {\n          'content-type': 'application/json',\n        },\n      }).then((response) => {\n        if (response.ok) {\n          setValidatedUserInput(null);\n          setSuccessMessage('Account created! Please log in.');\n          setDisplaySignUp(false);\n          setDisplayLogIn(true);\n          return undefined;\n        }\n        return response.json().then((error) => {\n          throw new Error(error.message);\n        });\n      }).catch((error) => {\n        const message = error.message.includes('fetch')\n          ? 'Something went wrong! Please try again later.'\n          : error.message;\n        setErrorMessage(message);\n      });\n    } else if (validatedUserInput && displayLogIn) {\n      fetch(`${API_URL}/auth/login`, {\n        method: 'POST',\n        body: JSON.stringify(validatedUserInput),\n        headers: {\n          'content-type': 'application/json',\n        },\n      }).then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        return response.json().then((error) => {\n          throw new Error(error.message);\n        });\n      }).then((responseJson) => {\n        localStorage.token = responseJson.token;\n        localStorage.setItem('acchordUsername', validatedUserInput.username);\n        setUser({\n          username: validatedUserInput.username,\n          token: responseJson.token,\n        });\n      }).catch((error) => {\n        const message = error.message.includes('fetch')\n          ? 'Something went wrong! Please try again later.'\n          : error.message;\n        setErrorMessage(message);\n      });\n    }\n  }, [validatedUserInput, displaySignUp, displayLogIn, setUser]);\n\n  return (\n    <div className=\"p-4 border border-dark rounded\">\n      { errorMessage && (\n        <div className=\"alert alert-danger\" role=\"alert\">\n          {errorMessage}\n        </div>\n      )}\n      { successMessage && (\n        <div className=\"alert alert-success\" role=\"alert\">\n          {successMessage}\n        </div>\n      )}\n      {displaySignUp\n         && (\n         <form id=\"signUpForm\">\n           <h2>Sign Up</h2>\n           <div className=\"form-group\">\n             <label htmlFor=\"username\">Username</label>\n             <input type=\"username\" className=\"form-control\" id=\"username\" aria-describedby=\"usernameHelp\" placeholder=\"Enter a username\" />\n             <small id=\"usernameHelp\" className=\"form-text text-muted\">Must be 3 to 20 characters. Only letters or numbers.</small>\n           </div>\n           <div className=\"form-group\">\n             <label htmlFor=\"password\">Password</label>\n             <input type=\"password\" className=\"form-control\" id=\"password\" aria-describedby=\"passwordHelp\" placeholder=\"Enter a password\" />\n             <small id=\"passwordHelp\" className=\"form-text text-muted\">Must be 8 to 20 characters. No spaces.</small>\n           </div>\n           <button type=\"submit\" form=\"signUpForm\" className=\"btn-sm btn-dark\" onClick={handleFormSubmit}>Sign Up</button>\n         </form>\n         )}\n      {displayLogIn\n          && (\n          <form id=\"logInForm\">\n            <h2>Log In</h2>\n            <div className=\"form-group\">\n              <label htmlFor=\"username\">Username</label>\n              <input type=\"username\" className=\"form-control\" id=\"username\" placeholder=\"Enter your username\" />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">Password</label>\n              <input type=\"password\" className=\"form-control\" id=\"password\" placeholder=\"Enter your password\" />\n            </div>\n            <button type=\"submit\" form=\"logInForm\" className=\"btn-sm btn-dark\" onClick={handleFormSubmit}>Log In</button>\n            <div className=\"w-100\" />\n            <button\n              type=\"button\"\n              className=\"btn btn-link text-muted px-0\"\n              onClick={(e) => {\n                e.preventDefault();\n                setDisplayLogIn(false);\n                setDisplaySignUp(true);\n              }}\n            >\n              Sign up for an account\n            </button>\n          </form>\n          )}\n    </div>\n  );\n}\n\nexport default AuthBox;\n","import React, {\n  useState, useCallback, useEffect, useContext,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { contentSchema } from '../schema';\nimport UserContext from './UserContext';\nimport API_URL from '../api_url';\n\nfunction ReviewForm({ mediaName, mediaCreator, mediaType }) {\n  const { user } = useContext(UserContext);\n  const [content, setContent] = useState();\n  const [display, setDisplay] = useState(true);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n  const reviewHeader = `Reviewing ${mediaName} by ${mediaCreator}`;\n\n  // store the user's review if it is valid against the content schema,\n  // this will trigger useEffect()\n  const handleButtonClick = useCallback((e) => {\n    e.preventDefault();\n    const input = e.target.form.reviewtext.value;\n    const { error } = contentSchema.validate(input);\n\n    if (error === undefined) {\n      setContent(input);\n    } else {\n      const message = error.message.includes('1000')\n        ? 'Please shorten your review to 1000 characters or less.'\n        : 'Please check your review for errors.';\n      setErrorMessage(message);\n    }\n  }, [setContent]);\n\n  // disable posting for deployed app\n  // POST the user's review to the server\n  // useEffect(() => {\n  //   if (content) {\n  //     setDisplay(false);\n  //     setErrorMessage('');\n\n  //     fetch(`${API_URL}/api/reviews`, {\n  //       method: 'POST',\n  //       headers: {\n  //         'content-type': 'application/json',\n  //       },\n  //       body: JSON.stringify({\n  //         mediaType,\n  //         mediaName,\n  //         mediaCreator,\n  //         content,\n  //         token: user.token,\n  //       }),\n  //     })\n  //       .then((response) => {\n  //         if (response.ok) {\n  //           setSuccessMessage('Review submitted!');\n  //           setInterval(() => {\n  //             window.location.reload(false);\n  //           }, 1500);\n  //         }\n  //       })\n  //       .catch((error) => {\n  //         const message = error.message.includes('fetch')\n  //           ? 'Unable to post review.'\n  //           : error.message;\n  //         setErrorMessage(message);\n  //       });\n  //   }\n  // }, [mediaCreator, mediaName, mediaType, content, user.token]);\n\n  useEffect(() => {\n    if (content) {\n      setErrorMessage(\n        <p className=\"mb-0\">\n          Posting has been disabled! Instead, please see\n          {' '}\n          <a href=\"https://github.com/mbuccat/acchord\">the code repository</a>\n          {' '}\n          for a demo.\n        </p>,\n      );\n    }\n  }, [content]);\n\n  return (\n    <div className=\"col-sm-12 p-4 border border-dark rounded\">\n      {successMessage && <div className=\"alert alert-success mb-0\">{successMessage}</div>}\n      {errorMessage && <div className=\"alert alert-danger mb-0\">{errorMessage}</div>}\n      { display && (\n        <div className=\"ReviewForm\">\n          <h2>\n            {reviewHeader}\n          </h2>\n          <form id=\"review-form\">\n            <textarea\n              className=\"form-control mb-1\"\n              id=\"reviewtext\"\n              rows=\"3\"\n              placeholder=\"Your review\"\n            />\n            <button\n              type=\"button\"\n              className=\"btn btn-danger mr-1\"\n              onClick={(e) => {\n                e.preventDefault();\n                window.location.reload(false);\n              }}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              form=\"review-form\"\n              className=\"btn btn-dark\"\n              onClick={handleButtonClick}\n            >\n              Submit\n            </button>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n}\n\nReviewForm.propTypes = {\n  mediaName: PropTypes.string.isRequired,\n  mediaCreator: PropTypes.string.isRequired,\n  mediaType: PropTypes.string.isRequired,\n};\n\nexport default ReviewForm;\n","import React from 'react';\n\nfunction SearchResults({ searchResults }) {\n  return (\n    <div className=\"col-sm-12 p-4 border border-dark rounded\">\n      <ul className=\"list-group list-unstyled\">\n        <h2>Did you mean:</h2>\n        {searchResults}\n      </ul>\n      <button\n        type=\"button\"\n        className=\"btn btn-danger\"\n        onClick={(e) => {\n          e.preventDefault();\n          window.location.reload(false);\n        }}\n      >\n        Cancel\n      </button>\n    </div>\n  );\n}\n\nexport default SearchResults;\n","import React, {\n  useState, useCallback, useEffect, useContext,\n} from 'react';\nimport ReviewForm from './ReviewForm';\nimport SearchResults from './SearchResults';\nimport { querySchema } from '../schema';\nimport UserContext from './UserContext';\nimport API_URL from '../api_url';\n\nfunction SearchBox() {\n  const { user } = useContext(UserContext);\n  const [query, setQuery] = useState();\n  const [searchResults, setSearchResults] = useState('Searching...');\n  const [mediaType, setMediaType] = useState('track');\n  const [mediaName, setMediaName] = useState('default');\n  const [mediaCreator, setMediaCreator] = useState('default');\n  const [displaySearchForm, setDisplaySearchForm] = useState(true);\n  const [displayResults, setDisplayResults] = useState(false);\n  const [displayReviewForm, setDisplayReviewForm] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  // store whether the user wants to search for a song or album\n  function handleMediaTypeChange(e) {\n    setMediaType(e.target.value);\n  }\n\n  // store the user's query if it is valid against the query schema,\n  // this will trigger useEffect()\n  const handleSearchSubmit = useCallback((e) => {\n    e.preventDefault();\n    const input = e.target.query.value;\n    const { error } = querySchema.validate(input);\n\n    if (error === undefined) {\n      setQuery(input);\n    } else {\n      const message = error.message.includes('50')\n        ? 'Please shorten your query.'\n        : 'Please check your query.';\n      setErrorMessage(message);\n    }\n  }, [setQuery]);\n\n  // when the user selects a song or album from the search results,\n  // display a blank review form for that item\n  const handleButtonClick = useCallback((e) => {\n    e.preventDefault();\n    setMediaName(e.target.dataset.medianame);\n    setMediaCreator(e.target.dataset.mediacreator);\n    setDisplayResults(false);\n    setDisplayReviewForm(true);\n  }, [setMediaName, setMediaCreator]);\n\n  // create a button for each search result item,\n  // so the user can select which item they want to review,\n  // the list of buttons will be passed to the SearchResults component\n  const createSearchResultsDisplay = useCallback((jsonFromApi) => {\n    const { data } = jsonFromApi;\n\n    if (data.length === 0) {\n      setSearchResults((<div className=\"alert alert-danger\">No matches found.</div>));\n    } else {\n      setSearchResults(data.map((item) => (\n        <li>\n          <button\n            type=\"button\"\n            className=\"btn btn-light mb-2 btn-sm w-100 text-left\"\n            onClick={handleButtonClick}\n            data-medianame={item.title}\n            data-mediacreator={item.artist.name}\n          >\n            {item.title}\n            {' '}\n            by\n            {' '}\n            {item.artist.name}\n          </button>\n        </li>\n      )));\n    }\n  }, [setSearchResults, handleButtonClick]);\n\n  // when the user makes a search query, send to server\n  useEffect(() => {\n    if (query) {\n      setDisplaySearchForm(false);\n      setDisplayResults(true);\n      setErrorMessage('');\n\n      fetch(`${API_URL}/api/search`, {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json',\n        },\n        body: JSON.stringify({ query, mediaType, token: user.token }),\n      })\n        .then((response) => {\n          if (response.ok) {\n            return response.json();\n          }\n          return response.json().then((error) => {\n            throw new Error(error.message);\n          });\n        })\n        .then((responseJson) => createSearchResultsDisplay(responseJson.jsonFromMusicApi))\n        .catch((error) => {\n          setErrorMessage(error.message);\n        });\n    }\n  }, [query, mediaType, createSearchResultsDisplay, user.token]);\n\n  return (\n    (\n      <div>\n        { displaySearchForm\n            && (\n            <div className=\"p-4 border border-dark rounded\">\n              {errorMessage && <div className=\"alert alert-danger\">{errorMessage}</div>}\n              <form onSubmit={handleSearchSubmit}>\n                <h2>I want to review:</h2>\n                <div className=\"w-100\" />\n                <div className=\"input-group\">\n                  <div className=\"input-group-prepend\">\n                    <select className=\"custom-select\" onChange={handleMediaTypeChange}>\n                      <option defaultValue value=\"track\">a track</option>\n                      <option value=\"album\">an album</option>\n                    </select>\n                  </div>\n                  <input\n                    type=\"string\"\n                    className=\"form-control\"\n                    name=\"query\"\n                    placeholder={`Which ${mediaType}?`}\n                  />\n                </div>\n              </form>\n            </div>\n            )}\n        {displayResults && <SearchResults searchResults={searchResults} />}\n        {displayReviewForm\n          && <ReviewForm mediaName={mediaName} mediaCreator={mediaCreator} mediaType={mediaType} />}\n      </div>\n    )\n  );\n}\n\nexport default SearchBox;\n","import React, { useState, useEffect } from 'react';\nimport album from '../assets/album.png';\nimport track from '../assets/track.png';\nimport loading from '../assets/loading.gif';\nimport API_URL from '../api_url';\n\nfunction Feed() {\n  const [feed, setFeed] = useState();\n  const [errorMessage, setErrorMessage] = useState('');\n\n  // for each review, create an li\n  // and set the feed state variable to an array of these li elements\n  const createFeed = (reviews) => {\n    setFeed(\n      reviews.reverse().map(({\n        content, created, mediaCreator, mediaName, mediaType, _id,\n      }) => {\n        const reviewHeader = `${mediaName} by ${mediaCreator}`;\n        const imgSrc = mediaType === 'track' ? track : album;\n\n        return (\n          <li className=\"media mb-5\" key={_id}>\n            <img className=\"mr-3\" src={imgSrc} width=\"50\" height=\"50\" alt=\"media type icon\" />\n            <div className=\"media-body\">\n              <h5 className=\"mt-0 mb-1\">{reviewHeader}</h5>\n              {content}\n              {' '}\n              <br />\n              <small>{(new Date(created)).toLocaleString()}</small>\n            </div>\n          </li>\n        );\n      }),\n    );\n  };\n\n  // GET the music reviews from the server\n  useEffect(() => {\n    fetch(`${API_URL}/api/reviews`)\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        throw new Error('Request failed!');\n      })\n      .then((responseJson) => {\n        const { reviews } = responseJson;\n        createFeed(reviews);\n      })\n      .catch(() => {\n        setErrorMessage('Unable to load reviews. You may be making too many requests.');\n      });\n  }, []);\n\n  return (\n    <div className=\"p-4 border border-dark rounded\">\n      <h2 className=\"mb-4\">Recent reviews</h2>\n      {errorMessage && <div className=\"alert alert-danger mb-0\">{errorMessage}</div>}\n      {!feed && !errorMessage\n        && (\n        <div>\n          <p>Fetching reviews</p>\n          <img src={loading} alt=\"loading gif\" />\n        </div>\n        )}\n      {feed\n        && (\n        <ul className=\"list-unstyled\">\n          {feed}\n        </ul>\n        )}\n    </div>\n  );\n}\n\nexport default Feed;\n","import React, {\n  useState, useMemo, useEffect,\n} from 'react';\nimport Nav from './components/Nav';\nimport AuthBox from './components/AuthBox';\nimport SearchBox from './components/SearchBox';\nimport Feed from './components/Feed';\nimport UserContext from './components/UserContext';\nimport API_URL from './api_url';\n\nfunction App() {\n  const [user, setUser] = useState({\n    username: localStorage.getItem('acchordUsername'),\n    token: localStorage.getItem('token'),\n  });\n  const userValue = useMemo(() => ({ user, setUser }), [user, setUser]);\n\n  // verify token,\n  // clear localStorage if the token is not from the server\n  useEffect(() => {\n    if (user.token) {\n      fetch(`${API_URL}/auth/token`, {\n        method: 'POST',\n        body: JSON.stringify({ token: user.token }),\n        headers: {\n          'content-type': 'application/json',\n        },\n      })\n        .then((response) => {\n          if (response.ok) {\n            return undefined;\n          }\n          throw new Error('Unable to verify token.');\n        })\n        .catch(() => {\n          localStorage.removeItem('token');\n          localStorage.removeItem('acchordUsername');\n          setUser({ username: null, token: null });\n        });\n    }\n  }, [user.token, setUser]);\n\n  // display welcome message and search/review form if user is signed in\n  return (\n    <div className=\"App container-fluid p-0 m-0\">\n      <UserContext.Provider value={userValue}>\n        <Nav />\n        {user.username\n          ? (\n            <div className=\"row px-4 mt-3\">\n              <div className=\"Welcome col-sm-12\">\n                <h1 className=\"mb-0\">\n                  Welcome,\n                  {' '}\n                  {user.username}\n                  .\n                </h1>\n              </div>\n            </div>\n          )\n          : <div />}\n        <div className=\"row justify-content-center px-4 py-0\">\n          <div className=\"col-12 order-12 col-lg-8 order-lg-1 pt-3\">\n            <Feed />\n          </div>\n          <div className=\"col-12 order-1 col-lg-4 order-lg-12 pt-3\">\n            {!user.username && !user.token && <AuthBox />}\n            {user.username && user.token && <SearchBox />}\n          </div>\n        </div>\n      </UserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}